import { withRouter } from 'next/router'
import WithMDX from '../../../lib/with-mdx'

import { nelson } from '../../../lib/data/team'
import Tangle from '../../../components/tangle'

export const page = {
title: 'Monitoring Confirmation & Reattachment',
date: '4 Sep 2018',
authors: [nelson],
editUrl: 'pages/hub/confirmation-reattachment.mdx',
}

export default withRouter(props => WithMDX(props, page))

You may monitor withdrawal transactions and notify users once withdrawal transaction has been confirmed. The following example utilizes getLatestInclusion() to check for confirmed transactions.
 
JavaScript

    const IOTA = require("iota.lib.js")
    const iota = new IOTA({provider: "https://nodes.testnet.iota.org:443"})
    const remoteCurl = require('@iota/curl-remote')
 
    withdrawalHashes = [ 'TAOIAXACMCWFYETKBHOTHNLNAZOWFORNAOKH9EIXVESLWBULGBKYRKUJLAQPKKNLISL9UHOXQESNLO999' ]
 
    // Check inclusion states
    iota.api.getLatestInclusion(withdrawalHashes, (err, states) => {
	if (err) {
        console.log("Error: ", err)
	    return
	} else {
	    	console.log("States: ", states)
	}
        states.forEach((confirmed, i) => {
	    	if (confirmed) {
    		console.log('Withdrawal transaction with tail hash:', withdrawalHashes[i], 'confirmed')
        	    	// Remove transaction hash from pending withdrawals list...
        	}
	})
    })
 

Withdrawal transaction with tail hash: 

    TAOIAXACMCWFYETKBHOTHNLNAZOWFORNAOKH9EIXVESLWBULGBKYRKUJLAQPKKNLISL9UHOXQESNLO999 confirmed


Screen Capture showing the confirmed bundle
 
![GitHub Logo](/static/docs/hub/monitor.jpg)
 
 